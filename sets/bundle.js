let position = {x: 0, y: 0};
let raw_scale = 0.0;
let scale = 1.0;

let canvas$1;

function onMouseMove(event) {
  if ((event.buttons & 1) == 1)
  {
    let delta = {x: event.movementX, y: event.movementY};

    position.x -= delta.x / canvas$1.width / scale * 3.0;
    position.y += delta.y / canvas$1.height / scale * 3.0;

    
    const radius = Math.sqrt(position.x * position.x + position.y * position.y);
    if (radius > 2) {
      let radialCoefficent = Math.min(radius, 2.0) / radius;
      position.x *= radialCoefficent;
      position.y *= radialCoefficent;
    }
  }
} /* onMouseMove */

function onWheel(event) {
  raw_scale = raw_scale + event.deltaY / 1000.0;
  raw_scale = Math.max(raw_scale, 0);
  scale = Math.pow(8, raw_scale);

  event.preventDefault();
} /* onWheel */

function init$1(canvas_for) {
  canvas$1 = canvas_for;
  
  // configure input
  canvas$1.addEventListener("mousemove", onMouseMove);
  canvas$1.addEventListener("wheel", onWheel);
}

async function loadShaderModule(gl, type, path) {
  const src = await fetch(path).then(response => response.text());
  const shader = gl.createShader(type);

  gl.shaderSource(shader, src);
  gl.compileShader(shader);

  const res = gl.getShaderInfoLog(shader);
  if (res != null && res.length > 0)
    console.error(`Shader module compilation error: ${res}`);

  return shader;
} /* loadShaderModule */

async function loadShader(gl, path) {

  // Wait compilation of all shaders
  let res = await Promise.all([
    loadShaderModule(gl, gl.VERTEX_SHADER, path + "/vert.glsl?" + Math.random().toString()),
    loadShaderModule(gl, gl.FRAGMENT_SHADER, path + "/frag.glsl?" + Math.random().toString()),
  ]);

  let program = gl.createProgram();

  gl.attachShader(program, res[0]);
  gl.attachShader(program, res[1]);
  gl.linkProgram(program);

  if (!gl.getProgramParameter(program, gl.LINK_STATUS))
    console.error(`Shader ${path} linking error: ${gl.getProgramInfoLog(program)}`);

  return program;
} /* loadShader */

let gl$1;

async function juliaSet() {
  let set = {
    real            : null, // real part slider
    imaginary       : null, // imaginary part slider
    coefficentBlock : null, // imaginary setting block

    shader          : null, // set shader
    oldInnerHTML    : "",   // 

    onResponse : function() {
      // send 'C' parameter for Julia set equasion
      let paramLocation = gl$1.getUniformLocation(this.shader, "CParam");
      if (paramLocation != null)
        gl$1.uniform2f(paramLocation, this.real.value, this.imaginary.value);
    },

    onApply : function(active) {
      [this.coefficentBlock.innerHTML, this.oldInnerHTML] = [this.oldInnerHTML, this.coefficentBlock.innerHTML];
      if (active) {
        const fields = ["real", "imaginary"];
        fields.forEach(field => set[field] = document.getElementById(field));
      }
    }
  };

  set.shader = await loadShader(gl$1, "./shaders/sets/julia");
  set.coefficentBlock = document.getElementById("juliaCoefficents");
  [set.coefficentBlock.innerHTML, set.oldInnerHTML] = [set.oldInnerHTML, set.coefficentBlock.innerHTML];

  return set;
} /* juliaSet */

async function mandelbrotSet() {
  let set = {
    shader : null,

    onResponse : function() {
    },

    onApply : function(active) {
    }
  };

  set.shader = await loadShader(gl$1, "./shaders/sets/mandelbrot");

  return set;
} /* mandelbrotSet */

let sets = {};      // object that contains all sets
let current = null; // active set

function bind(name) {
  let newCurrentSet = sets[name];

  if (newCurrentSet != undefined) {
    current.onApply(false);
    newCurrentSet.onApply(true);
    current = newCurrentSet;
  } else {
    throw Error(`Set ${select.value} doesn't exist`);
  }
}

async function init(glctx) {
  gl$1 = glctx;
  // create sets
  sets = {
    "Julia" : await juliaSet(),
    "Mandelbrot" : await mandelbrotSet()
  };
  current = sets["Mandelbrot"];
  current.onApply(true);
} /* initSets */

let gl = null;
let canvas = null;

let posBuf = null;

async function render() {
  if(gl == null || current == null)
    return;

  gl.clear(gl.COLOR_BUFFER_BIT);
  gl.clearColor(0, 1, 0, 0);

  gl.useProgram(current.shader);
  current.onResponse(true);

  // camera params
  let positionLocation = gl.getUniformLocation(current.shader, "Position");
  if (positionLocation != null)
    gl.uniform2f(positionLocation, position.x, position.y);

  let scaleLocation = gl.getUniformLocation(current.shader, "Scale");
  if (scaleLocation != null)
    gl.uniform1f(scaleLocation, scale);

  // set color
  let colorLocation = gl.getUniformLocation(current.shader, "Color");
  if (colorLocation != null) {
    let picker = document.getElementById("setColorPicker");
    let colorCoefficent = document.getElementById("setColorCoefficent");
    let color = parseInt(picker.value.slice(1, 7), 16);
    let rgb = {r: (color >> 16) & 0xFF, g: (color >> 8) & 0xFF, b: (color >> 0) & 0xFF};
    
    gl.uniform3f(colorLocation, colorCoefficent.value * rgb.r / 255.0, colorCoefficent.value * rgb.g / 255.0, colorCoefficent.value * rgb.b / 255.0);
  }
  let projectionLocation = gl.getUniformLocation(current.shader, "Projection");
  if (projectionLocation != null) {
    let wp = 1, hp = 1;

    if (canvas.width > canvas.height) {
      wp *= canvas.width / canvas.height;
    } else {
      hp *= canvas.height / canvas.width;
    }

    gl.uniform2f(projectionLocation, wp, hp);
  }

  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

  gl.finish();

  window.requestAnimationFrame(render);
} /* render */

async function initPrimitive() {
  // create fullscreen primitive
  const posLoc = gl.getAttribLocation(current.shader, "inPos");
  const pos = [
    -1, -1, 0, 1,
    -1,  1, 0, 1,
    1, -1, 0, 1,
    1,  1, 0, 1,
  ];
  posBuf = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, posBuf);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(pos), gl.STATIC_DRAW);
  gl.vertexAttribPointer(posLoc, 4, gl.FLOAT, false, 0, 0);
  gl.enableVertexAttribArray(posLoc);
} /* initPrimitive */

// WebGL initialization
canvas = document.getElementById("glCanvas");
gl = canvas.getContext("webgl2");

await init(gl);
bind("Mandelbrot");
await initPrimitive();

// configure set selector
let select$1 = document.getElementById("setTypeSelector");
let heading = document.getElementById("heading");
select$1.addEventListener("change", (Element, Event) => {
  bind(select$1.value);
  heading.innerHTML = `The ${select$1.value} set`;
});

init$1(canvas);

window.requestAnimationFrame(render);

export { render };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJjYW1lcmEuanMiLCJzaGFkZXIuanMiLCJzZXRzLmpzIiwibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IHBvc2l0aW9uID0ge3g6IDAsIHk6IDB9O1xyXG5sZXQgcmF3X3NjYWxlID0gMC4wO1xyXG5leHBvcnQgbGV0IHNjYWxlID0gMS4wO1xyXG5cclxubGV0IGNhbnZhcztcclxuXHJcbmZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xyXG4gIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgbWF4KSwgbWluKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICBpZiAoKGV2ZW50LmJ1dHRvbnMgJiAxKSA9PSAxKVxyXG4gIHtcclxuICAgIGxldCBkZWx0YSA9IHt4OiBldmVudC5tb3ZlbWVudFgsIHk6IGV2ZW50Lm1vdmVtZW50WX07XHJcblxyXG4gICAgcG9zaXRpb24ueCAtPSBkZWx0YS54IC8gY2FudmFzLndpZHRoIC8gc2NhbGUgKiAzLjA7XHJcbiAgICBwb3NpdGlvbi55ICs9IGRlbHRhLnkgLyBjYW52YXMuaGVpZ2h0IC8gc2NhbGUgKiAzLjA7XHJcblxyXG4gICAgXHJcbiAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQocG9zaXRpb24ueCAqIHBvc2l0aW9uLnggKyBwb3NpdGlvbi55ICogcG9zaXRpb24ueSk7XHJcbiAgICBpZiAocmFkaXVzID4gMikge1xyXG4gICAgICBsZXQgcmFkaWFsQ29lZmZpY2VudCA9IE1hdGgubWluKHJhZGl1cywgMi4wKSAvIHJhZGl1cztcclxuICAgICAgcG9zaXRpb24ueCAqPSByYWRpYWxDb2VmZmljZW50O1xyXG4gICAgICBwb3NpdGlvbi55ICo9IHJhZGlhbENvZWZmaWNlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59IC8qIG9uTW91c2VNb3ZlICovXHJcblxyXG5mdW5jdGlvbiBvbldoZWVsKGV2ZW50KSB7XHJcbiAgcmF3X3NjYWxlID0gcmF3X3NjYWxlICsgZXZlbnQuZGVsdGFZIC8gMTAwMC4wO1xyXG4gIHJhd19zY2FsZSA9IE1hdGgubWF4KHJhd19zY2FsZSwgMCk7XHJcbiAgc2NhbGUgPSBNYXRoLnBvdyg4LCByYXdfc2NhbGUpO1xyXG5cclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG59IC8qIG9uV2hlZWwgKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KGNhbnZhc19mb3IpIHtcclxuICBjYW52YXMgPSBjYW52YXNfZm9yO1xyXG4gIFxyXG4gIC8vIGNvbmZpZ3VyZSBpbnB1dFxyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlKTtcclxuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uV2hlZWwpO1xyXG59IiwiYXN5bmMgZnVuY3Rpb24gbG9hZFNoYWRlck1vZHVsZShnbCwgdHlwZSwgcGF0aCkge1xyXG4gIGNvbnN0IHNyYyA9IGF3YWl0IGZldGNoKHBhdGgpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKTtcclxuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcblxyXG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XHJcbiAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICBjb25zdCByZXMgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgaWYgKHJlcyAhPSBudWxsICYmIHJlcy5sZW5ndGggPiAwKVxyXG4gICAgY29uc29sZS5lcnJvcihgU2hhZGVyIG1vZHVsZSBjb21waWxhdGlvbiBlcnJvcjogJHtyZXN9YCk7XHJcblxyXG4gIHJldHVybiBzaGFkZXI7XHJcbn0gLyogbG9hZFNoYWRlck1vZHVsZSAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRTaGFkZXIoZ2wsIHBhdGgpIHtcclxuXHJcbiAgLy8gV2FpdCBjb21waWxhdGlvbiBvZiBhbGwgc2hhZGVyc1xyXG4gIGxldCByZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICBsb2FkU2hhZGVyTW9kdWxlKGdsLCBnbC5WRVJURVhfU0hBREVSLCBwYXRoICsgXCIvdmVydC5nbHNsP1wiICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygpKSxcclxuICAgIGxvYWRTaGFkZXJNb2R1bGUoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgcGF0aCArIFwiL2ZyYWcuZ2xzbD9cIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSksXHJcbiAgXSk7XHJcblxyXG4gIGxldCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG5cclxuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgcmVzWzBdKTtcclxuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgcmVzWzFdKTtcclxuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgIGNvbnNvbGUuZXJyb3IoYFNoYWRlciAke3BhdGh9IGxpbmtpbmcgZXJyb3I6ICR7Z2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YCk7XHJcblxyXG4gIHJldHVybiBwcm9ncmFtO1xyXG59IC8qIGxvYWRTaGFkZXIgKi8iLCJpbXBvcnQge2xvYWRTaGFkZXJ9IGZyb20gXCIuL3NoYWRlci5qc1wiXHJcblxyXG5sZXQgZ2w7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBqdWxpYVNldCgpIHtcclxuICBsZXQgc2V0ID0ge1xyXG4gICAgcmVhbCAgICAgICAgICAgIDogbnVsbCwgLy8gcmVhbCBwYXJ0IHNsaWRlclxyXG4gICAgaW1hZ2luYXJ5ICAgICAgIDogbnVsbCwgLy8gaW1hZ2luYXJ5IHBhcnQgc2xpZGVyXHJcbiAgICBjb2VmZmljZW50QmxvY2sgOiBudWxsLCAvLyBpbWFnaW5hcnkgc2V0dGluZyBibG9ja1xyXG5cclxuICAgIHNoYWRlciAgICAgICAgICA6IG51bGwsIC8vIHNldCBzaGFkZXJcclxuICAgIG9sZElubmVySFRNTCAgICA6IFwiXCIsICAgLy8gXHJcblxyXG4gICAgb25SZXNwb25zZSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBzZW5kICdDJyBwYXJhbWV0ZXIgZm9yIEp1bGlhIHNldCBlcXVhc2lvblxyXG4gICAgICBsZXQgcGFyYW1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlciwgXCJDUGFyYW1cIik7XHJcbiAgICAgIGlmIChwYXJhbUxvY2F0aW9uICE9IG51bGwpXHJcbiAgICAgICAgZ2wudW5pZm9ybTJmKHBhcmFtTG9jYXRpb24sIHRoaXMucmVhbC52YWx1ZSwgdGhpcy5pbWFnaW5hcnkudmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkFwcGx5IDogZnVuY3Rpb24oYWN0aXZlKSB7XHJcbiAgICAgIFt0aGlzLmNvZWZmaWNlbnRCbG9jay5pbm5lckhUTUwsIHRoaXMub2xkSW5uZXJIVE1MXSA9IFt0aGlzLm9sZElubmVySFRNTCwgdGhpcy5jb2VmZmljZW50QmxvY2suaW5uZXJIVE1MXTtcclxuICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IFtcInJlYWxcIiwgXCJpbWFnaW5hcnlcIl07XHJcbiAgICAgICAgZmllbGRzLmZvckVhY2goZmllbGQgPT4gc2V0W2ZpZWxkXSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXQuc2hhZGVyID0gYXdhaXQgbG9hZFNoYWRlcihnbCwgXCIuL3NoYWRlcnMvc2V0cy9qdWxpYVwiKTtcclxuICBzZXQuY29lZmZpY2VudEJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqdWxpYUNvZWZmaWNlbnRzXCIpO1xyXG4gIFtzZXQuY29lZmZpY2VudEJsb2NrLmlubmVySFRNTCwgc2V0Lm9sZElubmVySFRNTF0gPSBbc2V0Lm9sZElubmVySFRNTCwgc2V0LmNvZWZmaWNlbnRCbG9jay5pbm5lckhUTUxdO1xyXG5cclxuICByZXR1cm4gc2V0O1xyXG59IC8qIGp1bGlhU2V0ICovXHJcblxyXG5hc3luYyBmdW5jdGlvbiBtYW5kZWxicm90U2V0KCkge1xyXG4gIGxldCBzZXQgPSB7XHJcbiAgICBzaGFkZXIgOiBudWxsLFxyXG5cclxuICAgIG9uUmVzcG9uc2UgOiBmdW5jdGlvbigpIHtcclxuICAgIH0sXHJcblxyXG4gICAgb25BcHBseSA6IGZ1bmN0aW9uKGFjdGl2ZSkge1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldC5zaGFkZXIgPSBhd2FpdCBsb2FkU2hhZGVyKGdsLCBcIi4vc2hhZGVycy9zZXRzL21hbmRlbGJyb3RcIik7XHJcblxyXG4gIHJldHVybiBzZXQ7XHJcbn0gLyogbWFuZGVsYnJvdFNldCAqL1xyXG5cclxubGV0IHNldHMgPSB7fTsgICAgICAvLyBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgc2V0c1xyXG5leHBvcnQgbGV0IGN1cnJlbnQgPSBudWxsOyAvLyBhY3RpdmUgc2V0XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZChuYW1lKSB7XHJcbiAgbGV0IG5ld0N1cnJlbnRTZXQgPSBzZXRzW25hbWVdO1xyXG5cclxuICBpZiAobmV3Q3VycmVudFNldCAhPSB1bmRlZmluZWQpIHtcclxuICAgIGN1cnJlbnQub25BcHBseShmYWxzZSk7XHJcbiAgICBuZXdDdXJyZW50U2V0Lm9uQXBwbHkodHJ1ZSk7XHJcbiAgICBjdXJyZW50ID0gbmV3Q3VycmVudFNldDtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgRXJyb3IoYFNldCAke3NlbGVjdC52YWx1ZX0gZG9lc24ndCBleGlzdGApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQoZ2xjdHgpIHtcclxuICBnbCA9IGdsY3R4O1xyXG4gIC8vIGNyZWF0ZSBzZXRzXHJcbiAgc2V0cyA9IHtcclxuICAgIFwiSnVsaWFcIiA6IGF3YWl0IGp1bGlhU2V0KCksXHJcbiAgICBcIk1hbmRlbGJyb3RcIiA6IGF3YWl0IG1hbmRlbGJyb3RTZXQoKVxyXG4gIH07XHJcbiAgY3VycmVudCA9IHNldHNbXCJNYW5kZWxicm90XCJdO1xyXG4gIGN1cnJlbnQub25BcHBseSh0cnVlKTtcclxufSAvKiBpbml0U2V0cyAqLyIsImltcG9ydCAqIGFzIGNhbWVyYSBmcm9tIFwiLi9jYW1lcmEuanNcIlxyXG5pbXBvcnQgKiBhcyBzZXRzIGZyb20gXCIuL3NldHMuanNcIjtcclxuXHJcbmxldCBnbCA9IG51bGw7XHJcbmxldCBjYW52YXMgPSBudWxsO1xyXG5cclxubGV0IHBvc0J1ZiA9IG51bGw7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gIGlmKGdsID09IG51bGwgfHwgc2V0cy5jdXJyZW50ID09IG51bGwpXHJcbiAgICByZXR1cm47XHJcblxyXG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG4gIGdsLmNsZWFyQ29sb3IoMCwgMSwgMCwgMCk7XHJcblxyXG4gIGdsLnVzZVByb2dyYW0oc2V0cy5jdXJyZW50LnNoYWRlcik7XHJcbiAgc2V0cy5jdXJyZW50Lm9uUmVzcG9uc2UodHJ1ZSk7XHJcblxyXG4gIC8vIGNhbWVyYSBwYXJhbXNcclxuICBsZXQgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzZXRzLmN1cnJlbnQuc2hhZGVyLCBcIlBvc2l0aW9uXCIpO1xyXG4gIGlmIChwb3NpdGlvbkxvY2F0aW9uICE9IG51bGwpXHJcbiAgICBnbC51bmlmb3JtMmYocG9zaXRpb25Mb2NhdGlvbiwgY2FtZXJhLnBvc2l0aW9uLngsIGNhbWVyYS5wb3NpdGlvbi55KTtcclxuXHJcbiAgbGV0IHNjYWxlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2V0cy5jdXJyZW50LnNoYWRlciwgXCJTY2FsZVwiKTtcclxuICBpZiAoc2NhbGVMb2NhdGlvbiAhPSBudWxsKVxyXG4gICAgZ2wudW5pZm9ybTFmKHNjYWxlTG9jYXRpb24sIGNhbWVyYS5zY2FsZSk7XHJcblxyXG4gIC8vIHNldCBjb2xvclxyXG4gIGxldCBjb2xvckxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNldHMuY3VycmVudC5zaGFkZXIsIFwiQ29sb3JcIik7XHJcbiAgaWYgKGNvbG9yTG9jYXRpb24gIT0gbnVsbCkge1xyXG4gICAgbGV0IHBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0Q29sb3JQaWNrZXJcIik7XHJcbiAgICBsZXQgY29sb3JDb2VmZmljZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXRDb2xvckNvZWZmaWNlbnRcIik7XHJcbiAgICBsZXQgY29sb3IgPSBwYXJzZUludChwaWNrZXIudmFsdWUuc2xpY2UoMSwgNyksIDE2KTtcclxuICAgIGxldCByZ2IgPSB7cjogKGNvbG9yID4+IDE2KSAmIDB4RkYsIGc6IChjb2xvciA+PiA4KSAmIDB4RkYsIGI6IChjb2xvciA+PiAwKSAmIDB4RkZ9O1xyXG4gICAgXHJcbiAgICBnbC51bmlmb3JtM2YoY29sb3JMb2NhdGlvbiwgY29sb3JDb2VmZmljZW50LnZhbHVlICogcmdiLnIgLyAyNTUuMCwgY29sb3JDb2VmZmljZW50LnZhbHVlICogcmdiLmcgLyAyNTUuMCwgY29sb3JDb2VmZmljZW50LnZhbHVlICogcmdiLmIgLyAyNTUuMCk7XHJcbiAgfVxyXG4gIGxldCBwcm9qZWN0aW9uTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2V0cy5jdXJyZW50LnNoYWRlciwgXCJQcm9qZWN0aW9uXCIpO1xyXG4gIGlmIChwcm9qZWN0aW9uTG9jYXRpb24gIT0gbnVsbCkge1xyXG4gICAgbGV0IHdwID0gMSwgaHAgPSAxO1xyXG5cclxuICAgIGlmIChjYW52YXMud2lkdGggPiBjYW52YXMuaGVpZ2h0KSB7XHJcbiAgICAgIHdwICo9IGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBocCAqPSBjYW52YXMuaGVpZ2h0IC8gY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdsLnVuaWZvcm0yZihwcm9qZWN0aW9uTG9jYXRpb24sIHdwLCBocCk7XHJcbiAgfVxyXG5cclxuICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcclxuXHJcbiAgZ2wuZmluaXNoKCk7XHJcblxyXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcclxufSAvKiByZW5kZXIgKi9cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRQcmltaXRpdmUoKSB7XHJcbiAgLy8gY3JlYXRlIGZ1bGxzY3JlZW4gcHJpbWl0aXZlXHJcbiAgY29uc3QgcG9zTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2V0cy5jdXJyZW50LnNoYWRlciwgXCJpblBvc1wiKTtcclxuICBjb25zdCBwb3MgPSBbXHJcbiAgICAtMSwgLTEsIDAsIDEsXHJcbiAgICAtMSwgIDEsIDAsIDEsXHJcbiAgICAxLCAtMSwgMCwgMSxcclxuICAgIDEsICAxLCAwLCAxLFxyXG4gIF07XHJcbiAgcG9zQnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc0J1Zik7XHJcbiAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkocG9zKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zTG9jLCA0LCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc0xvYyk7XHJcbn0gLyogaW5pdFByaW1pdGl2ZSAqL1xyXG5cclxuLy8gV2ViR0wgaW5pdGlhbGl6YXRpb25cclxuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnbENhbnZhc1wiKTtcclxuZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiKTtcclxuXHJcbmF3YWl0IHNldHMuaW5pdChnbCk7XHJcbnNldHMuYmluZChcIk1hbmRlbGJyb3RcIik7XHJcbmF3YWl0IGluaXRQcmltaXRpdmUoKTtcclxuXHJcbi8vIGNvbmZpZ3VyZSBzZXQgc2VsZWN0b3JcclxubGV0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0VHlwZVNlbGVjdG9yXCIpO1xyXG5sZXQgaGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGluZ1wiKTtcclxuc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKEVsZW1lbnQsIEV2ZW50KSA9PiB7XHJcbiAgc2V0cy5iaW5kKHNlbGVjdC52YWx1ZSk7XHJcbiAgaGVhZGluZy5pbm5lckhUTUwgPSBgVGhlICR7c2VsZWN0LnZhbHVlfSBzZXRgO1xyXG59KTtcclxuXHJcbmNhbWVyYS5pbml0KGNhbnZhcyk7XHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcbiJdLCJuYW1lcyI6WyJjYW52YXMiLCJpbml0IiwiZ2wiLCJzZXRzLmN1cnJlbnQiLCJjYW1lcmEucG9zaXRpb24iLCJjYW1lcmEuc2NhbGUiLCJzZXRzLmluaXQiLCJzZXRzLmJpbmQiLCJzZWxlY3QiLCJjYW1lcmEuaW5pdCJdLCJtYXBwaW5ncyI6IkFBQU8sSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuQyxJQUFJLFNBQVMsR0FBRyxHQUFHLENBQUM7QUFDYixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUM7QUFDdkI7QUFDQSxJQUFJQSxRQUFNLENBQUM7QUFLWDtBQUNBLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUM1QixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxH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
